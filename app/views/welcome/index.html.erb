<div id="main_wrapper">
      <div id="welcome_container">
        <div id="title">Ready to Purchase?</div>
        <div id='form_container'>
          <form action="/carts" id="cart-form" method="post">
                <label for='amount'>Select Amount</label><br>
                <input type='number' step ="0.01" name='amount' class='welcome-field' id='amount' required><br>
                <input type="submit" value="Check Out" id='welcome-submit' disabled />
                <!--Line below required for Rails forms-->
                <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">
              </form>

        </div>
      </div>
  </div>

<script>

  var field = document.querySelector('input[type="number"]');
  var submit = document.querySelector('input[type="submit"]');
  var form = document.querySelector('#cart-form');

  field.addEventListener("input", () => {
    submit.removeAttribute('disabled');
  });

  field.placeholder = 'Purchase Amount';

  form.addEventListener('submit', function (event) {
    event.preventDefault();
    console.log(event);
    submit.setAttribute('disabled', true);
    if (field.value > 0) {
      form.submit();
    }
    else {
      alert("Hey, I'm trying to make some money here! Please enter a positive amount.")
    }
  });

</script>
